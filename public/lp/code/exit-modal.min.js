function callPlayer(e,i,n){window.jQuery&&e instanceof jQuery&&(e=e.get(0).id);var o=document.getElementById(e);o&&"IFRAME"!=o.tagName.toUpperCase()&&(o=o.getElementsByTagName("iframe")[0]),o&&o.contentWindow.postMessage(JSON.stringify({event:"command",func:i,args:n||[],id:e}),"*")}function PlayVideo(){callPlayer("youtube","playVideo")}function StopVideo(){callPlayer("youtube","stopVideo")}!function(e,i){"function"==typeof define&&define.amd?define(i):"object"==typeof exports?module.exports=i(require,exports,module):e.ouibounce=i()}(this,function(){return function(e,i){function m(e,i){return"undefined"==typeof e?i:e}function p(e){var i=24*e*60*60*1e3,n=new Date;return n.setTime(n.getTime()+i),"; expires="+n.toUTCString()}function y(){l.addEventListener("mouseleave",v),l.addEventListener("mouseenter",k),l.addEventListener("keydown",E)}function v(e){e.clientY>o||x(f,"true")&&!n||(s=setTimeout(T,r))}function k(){s&&(clearTimeout(s),s=null)}function E(e){g||x(f,"true")&&!n||e.metaKey&&76===e.keyCode&&(g=!0,s=setTimeout(T,r))}function x(e,i){return w()[e]===i}function w(){for(var e=document.cookie.split("; "),i={},n=e.length-1;n>=0;n--){var o=e[n].split("=");i[o[0]]=o[1]}return i}function T(){"9999px"==$("#exit-modal").css("top")&&($("#exit-modal").css("top","0px"),$("#underlay").addClass("fadein"),$("#modal").addClass("popin"),b(),u())}function b(){PlayVideo()}function N(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(a=p(e.cookieExpire)),e.sitewide===!0&&(c=";path=/"),"undefined"!=typeof e.cookieDomain&&(d=";domain="+e.cookieDomain),"undefined"!=typeof e.cookieName&&(f=e.cookieName),document.cookie=f+"=true"+a+d+c,l.removeEventListener("mouseleave",v),l.removeEventListener("mouseenter",k),l.removeEventListener("keydown",E)}var i=i||{},n=i.aggressive||!1,o=m(i.sensitivity,20),t=m(i.timer,0),r=m(i.delay,0),u=i.callback||function(){},a=p(i.cookieExpire)||"",d=i.cookieDomain?";domain="+i.cookieDomain:"",f=i.cookieName?i.cookieName:"viewedOuibounceModal",c=i.sitewide===!0?";path=/":"",s=null,l=document.documentElement;setTimeout(y,t);var g=!1;return{fire:b,disable:N}}});